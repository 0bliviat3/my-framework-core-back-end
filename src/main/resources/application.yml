spring:
  application:
    name: framework

  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 50MB

  datasource:
    url: jdbc:mariadb://localhost:13306/framework
    username: framework_user
    password: qwer1234
    driver-class-name: org.mariadb.jdbc.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000

  jpa:
    hibernate:
      ddl-auto: update  # 운영 환경에서는 validate 또는 none 사용
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MariaDBDialect

  batch:
    jdbc:
      initialize-schema: always
    job:
      enabled: false  # 시작 시 자동 실행 방지

  # Redis 설정
  data:
    redis:
      mode: STANDALONE  # STANDALONE, SENTINEL, CLUSTER
      host: localhost
      port: 6379
      password:  # 패스워드가 없으면 비워두기
      database: 0
      timeout: 3000  # 연결 타임아웃 (ms)

      # Sentinel 설정 (mode: SENTINEL 일 때 사용)
      sentinel:
        master:  # Master 이름
        nodes:   # Sentinel 노드 목록
          # - localhost:26379
          # - localhost:26380
        password:  # Sentinel 패스워드

      # Cluster 설정 (mode: CLUSTER 일 때 사용)
      cluster:
        nodes:   # Cluster 노드 목록
          # - localhost:7000
          # - localhost:7001
          # - localhost:7002
        max-redirects: 3
        password:  # Cluster 패스워드

      # 커넥션 풀 설정
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0
        max-wait: -1  # -1 = 무제한 대기

server:
  port: 8080
  servlet:
    context-path: /
    session:
      timeout: 30m
      cookie:
        http-only: true
        secure: false  # HTTPS 사용 시 true로 변경

logging:
  level:
    root: INFO
    com.wan.framework: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# 비밀번호 암호화 설정
password:
  salt:
    size: 16  # Salt 크기 (바이트)
  iteration: 10000  # PBKDF2 반복 횟수

# 파일 업로드 설정
file:
  upload:
    upload-dir: uploads/board
    max-file-size: 10485760  # 10MB
    max-request-size: 52428800  # 50MB
    allowed-extensions:
      - jpg
      - jpeg
      - png
      - gif
      - pdf
      - doc
      - docx
      - xls
      - xlsx
      - ppt
      - pptx
      - txt
      - zip
      - rar